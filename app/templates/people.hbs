{{title "People"}}

{{to-elsewhere named='search' send=(component 'search-field' query=q onquery=(action (mut q)) placeholder="Search people by name or email")}}
<section id="people">
  <header class="container">
    <nav>
      {{#create-button 'name' onsubmit=(route-action 'createPerson') placeholder='Enter name'}}
        {{icon "person"}} Add Person
      {{else}}
        {{icon "arrow"}}
      {{/create-button}}
    </nav>
  </header>
  {{#sortable-list name='people' rows=model.model total=model.meta.page.total icon='person' sort=sort query=q load=(route-action 'load') as |l|}}
    {{#l.item 'name' as |item|}}
      {{#link-to 'person' item~}}
        {{item.name}}
      {{~/link-to}}
    {{/l.item}}
    {{#l.item 'email' as |item|}}
      {{item.email}}
    {{/l.item}}
  {{/sortable-list}}
</section>
