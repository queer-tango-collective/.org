{{title model.name}}
{{remember-document-scroll key=(concat 'location/' model.id)}}

<section id="location">
  {{#form-for model autosave=true onsubmit=(route-action 'save') as |f|}}
    {{#f.nav ondelete=(route-action 'deleteRecord')}}
      <button type='submit' onclick={{action (mut isShowingMap) true}}>
        {{icon 'location'}} View Map
      </button>

      {{#if isShowingMap}}
        {{dialog-box (component 'map-dialog'
            latitude=model.latitude
            longitude=model.longitude)
          ondismiss=(action (mut isShowingMap) false)}}
      {{/if}}
    {{/f.nav}}
    <div class='grid-column'>
      {{f.text 'name'}}
      {{f.text 'website'}}
      {{f.textarea 'address' rows=2}}
      {{f.text 'postalCode' onblur=(route-action 'hydrateLocation' f)}}
      <div class='grid-row'>
        {{f.text 'city'}}
        {{f.text 'regionCode'}}
      </div>
      {{#f.upload 'photo' as |photo|}}
        <img src="{{photo.url}}">
      {{else}}
        Upload Photo
      {{/f.upload}}
    </div>
  {{/form-for}}
</section>

